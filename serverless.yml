service: service

custom:
  services: src/services
  Messages: ${self:custom.services}/Messages

plugins:
  - serverless-plugin-typescript
  - serverless-offline

provider:
  name: aws
  runtime: nodejs6.10

package:
  exclude:
    - node_modules/**/*
  include:
    ${self:custom.Messages}.ts

functions:
  messages:
    handler: ${self:custom.Messages}.handler
    events:
      - http:
          path: messages/{id?}
          method: get
          request:
            parameters:
              paths:
                id: true